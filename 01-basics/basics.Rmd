---
title: "Basics"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
---

```{r setup, include=FALSE, exercise = TRUE}
# packages
library(learnr)
#devtools::install_github("rstudio-education/gradethis", force = TRUE)
library(gradethis)

#sets gradethis as exercise checker
gradethis::gradethis_setup()

tutorial_options(exercise.reveal_solution = FALSE)

# hide non-exercise code chunks
knitr::opts_chunk$set(echo = FALSE)
```


## Introduction

Before getting started with this tutorial, it is useful to understand some of the basics about R and R Studio.  You can read [Chapter 1 Getting Started with Data in R](https://moderndive.com/1-getting-started.html) from the Modern Dive online textbook to get a basic introduction.

### Learning goals

* Learn how to assign output to an object using the assignment operator `<-`
* Understand what a function is and how to use a function's help page
* Use the `View()` function to look at data frames



## R can do simple calculations

Let's start with something very simple. R can be used as an interactive calculator.

Type `10 + 10` in the code chunk below and press **Run Code** to make sure your code works, and then click the **Submit Answer** button when you are ready to submit your answer.

```{r addition, exercise=TRUE}

```

```{r addition-check}
grade_result(
  pass_if(~identical(.result, 20))
)
```

R prints the result of 20 (note that the [1] is telling you that your output just has one row). 

However, R is a programming language and often the reason we use a programming language as opposed to a calculator is to automate some process or avoid unnecessary repetition.

## Assignment Opperator

Let's say we want to use the result from one calculation in a second calculation. Instead of retyping 10 + 10 every time we need it, we can just create a new variable that stores the result in R's memory as an **object**.

The way you assign a value to an object in R is by using the **assignment operator**, which is a ''less than'' symbol followed by a ''minus'' sign. It looks like this: `<-`

Think of the assignment operator as an arrow. You are assigning the result of the code on the right side of the arrow to the object name on the left side of the arrow.

Let's give the output of adding 10 + 10 an object name of `x`

Press the **Run Code** button in the code chunk below

```{r assign_opp1, exercise=TRUE}

x <- 10 + 10

```


You'll notice that R did not print the result of 20 this time. When you use the assignment operator, R assumes that you don't want to see the result immediately, but rather that you intend to use the result for something else later.

You can ask R to print the value of your object by just typing the object in the code chunk.

Press the **Run Code** button in the code chunk below

```{r assign_opp2, exercise=TRUE}

x <- 10 + 10      
x

```


You'll notice that R now gives the result of 20 again.


## Objects 


When you assign the result of some code to an object, the real advantage is that you can use that object name as a shortcut to the result of that code.

```{r assign_opp3, exercise=TRUE, exercise.setup = "assign_opp1"}

x - 12

```

Since we stored the result of 10 + 10 in an object called `x`, then `x - 12` is 20 - 12 which is 8.


For now, just think about an object as a way to store things (values, lists, functions, etc) in R's memory.


There are lots of types of objects in R. Here are some resources to learn more about objects in R

* [Objects](https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects): definition and types of objects
* [What's in a name?](https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name): some rules about how to name objects (No spaces!)


## Functions

R can do a LOT more than simple calculations.  One power of R is that you can also create functions that summarizes a bunch of lines of code together.

A function consists of the name of the function and then the augments you can use as inputs for the function in parentheses. 

An example is the sqrt() function that takes the square root of whatever is inside the parentheses.


What is the square root of 625? 

To find out, type `sqrt(625)` in the code chunk below and click **Run Code** to make sure it works, then click **Submit Answer** to check your answer.


```{r sqrt, exercise=TRUE}



```

```{r sqrt-solution}

sqrt(625)

```

```{r sqrt-check}

grade_code()

```


sqrt() is a fairly simple function.  But let's say you are not sure how to use the function.  You can open a help document that will describe how to use the function.  

Put a question mark in front of the function and don't include the parentheses to open the help document


```{r help, exercise=TRUE, message=FALSE}

?sqrt

```

Note that the help document (opened in a new tab) shows the name of the help page and the package it is from at the top left corner of the help page (the package name is in the {} brackets).

The sqrt() function is from a help page called Miscellaneous Mathematical Functions and is abbreviated as MathFun in the top left corner.

The sqrt() function is part of base R so the package it is from is shown as {base}

As stated before, `sqrt()` is a simple function and only has one argument `x` which is "a numeric or complex vector or array." (which means you can put in a single value, a vector, or matrix of values inside the function)

See this link [Calling functions](https://r4ds.had.co.nz/workflow-basics.html#calling-functions) to help understand the basics of what a function is and how to use it

Sometimes the help document doesn't tell you what you want to know.  Don't feel shy about doing an internet search for more helpful answers and examples.  All of us (even the most experienced programmers) turn to the internet and other resources for help.

## Intro to Data Frames

We often want to use R to analyze a larger dataset that has many rows and columns.  We are going to skip over the basics of vectors, lists, and matrices for now, but you can look at this link about [Data Types](https://www.statmethods.net/input/datatypes.html) for a quick overview of different R data types including vectors, matrices, lists, data frames, etc

In this course, we are going to focus on **data frames**.  A data frame is a "spreadsheet"-type of dataset where each row is an observation and each column is a different variable.


Let's use the function View() to look at a data frame called iris.

```{r view, exercise=TRUE, message=FALSE}
View(iris)
```

The View() function opens the iris data frame into a spreadsheet-like form in a new window so you can see the whole thing.

The reason you did not have to import the iris data frame into R is that this dataset is already loaded into base R.

## View() Function

Call up the help file for the View() function.

```{r View_help, exercise=TRUE, message=FALSE}



```

```{r View_help-hint-1}
"Don't forget to include a question mark before the function name and do NOT include the parentheses"
```

```{r View_help-hint-2}
"Make sure you match the capitalization of the function name EXACTLY"
```

```{r View_help-solution}
?View
```


```{r View_help-check}
grade_code()
```


```{r View_quiz}

quiz(
  question("What package is the View() function part of?",
           answer("utils", correct=TRUE),
           answer("base"),
           answer("dplyr"),
           answer("graphics"),
    allow_retry = TRUE,
    random_answer_order = TRUE)
)

```

Notice on the help page that the View() function has two things listed under Arguments (sqrt() only had one).

Arguments are the things that go within the parentheses for a function.  In this case, there are two arguments in the View() function - x and title. Each of these arguments is explained under the Arguments section.

Generally, for the View() function we just put in the argument x which is an R object that can be viewed as a data frame.

This is why we can type View(iris) to view the iris data (the object we are viewing in this case is iris)


## iris Data Frame

Because the iris data frame is included in base R, it also has a help page that describes the dataset.

Use the code chunk below to open a help page for the `iris` data frame

```{r iris_help, exercise=TRUE, message=FALSE}



```

```{r iris_help-hint-1}
"Don't forget to include a question mark before the function name and do NOT include the parentheses"
```



```{r iris_help-solution}
?iris
```


```{r iris_help-check}
grade_code()
```


```{r iris_quiz}

quiz(
  question("Using the information in the iris help document, how many species of iris are included in the dataset?",
           answer("1"),
           answer("2"),
           answer("3", correct=TRUE),
           answer("4"),
    allow_retry = TRUE,
    random_answer_order = TRUE)
)

```



```{r journal}

question_text("Look back at the help file for the iris data.  What is the name of the journal where Fisher used the iris data to demonstrate some statistical methods?",
              answer("Annals of Eugenics", correct=TRUE),
              answer("annals of eugenics", message="Don't forget to capitalize"),
              incorrect = "Look under 'Source' in the iris help file, Look for the journal article with Fisher as the author.  Type the name of the journal (the words in italics) exactly as written.",
              allow_retry = TRUE,
              trim=TRUE
              )

```

While the iris data itself is just a series of measurements on flowers from a few species of irises, it is worth noting there are links between eugenics and the development of many statistical methods. 

If you are not already familiar, it would be worth spending some time understanding what eugenics is, who R.A. Fisher is, and how the field of statistics was developed.

Click here for a link to an article that can get you started on informing yourself about the links between genetics, statistics, and eugenics. [Eugenics and the Ethics of Statistical Analysis](http://gppreview.com/2019/12/16/eugenics-ethics-statistical-analysis/)


### Conclusion

There is more to learn before you can use R for data analysis.  Hopefully this lesson got you started on understanding a few basic things about how R works.



## References


* [Chapter 1 Getting Started with Data in R](https://moderndive.com/1-getting-started.html) from the Modern Dive online textbook to get a basic introduction.
* [Objects](https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects): definition and types of objects
* [What's in a name?](https://r4ds.had.co.nz/workflow-basics.html#whats-in-a-name): some rules about how to name objects (No spaces!)
* [Calling functions](https://r4ds.had.co.nz/workflow-basics.html#calling-functions) to help understand the basics of what a function is and how to use it
* [Data Types](https://www.statmethods.net/input/datatypes.html) for a quick overview of different R data types including vectors, matrices, lists, data frames, etc
* [Eugenics and the Ethics of Statistical Analysis](http://gppreview.com/2019/12/16/eugenics-ethics-statistical-analysis/)


